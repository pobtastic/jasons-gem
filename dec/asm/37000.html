<!DOCTYPE html>
<html>
<head>
<title>Jason's Gem: Routine at 37000</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="36960.html">36960</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37000">Map</a></td>
<td class="next">
Next: <a href="37633.html">37633</a>
</td>
</tr>
</table>
<div class="description">37000: Routine at 9088</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="37000"></span>37000</td>
<td class="instruction">LD HL,16384</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37003"></span>37003</td>
<td class="instruction">LD DE,16385</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37006"></span>37006</td>
<td class="instruction">LD BC,6143</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37009"></span>37009</td>
<td class="instruction">LD (HL),0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37011"></span>37011</td>
<td class="instruction">LDIR</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37013"></span>37013</td>
<td class="instruction">LD HL,22528</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37016"></span>37016</td>
<td class="instruction">LD DE,22529</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37019"></span>37019</td>
<td class="instruction">LD (HL),7</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37021"></span>37021</td>
<td class="instruction">LD BC,767</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37024"></span>37024</td>
<td class="instruction">LDIR</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37026"></span>37026</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37027"></span>37027</td>
<td class="instruction">OUT (254),A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37029"></span>
<div class="comments">
<div class="paragraph">
Open the upper screen channel.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="37029"></span>37029</td>
<td class="instruction">LD A,2</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=2.</td>
</tr>
<tr>
<td class="address-1"><span id="37031"></span>37031</td>
<td class="instruction">CALL 5633</td>
<td class="comment-1" rowspan="1">Call <a href="https://skoolkit.ca/disassemblies/rom/hex/asm/1601.html">CHAN_OPEN</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37034"></span>37034</td>
<td class="instruction">LD DE,37076</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="37000.html#37076">37076</a> (text).</td>
</tr>
<tr>
<td class="address-1"><span id="37037"></span>37037</td>
<td class="instruction">LD BC,509</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=509 (counter).</td>
</tr>
<tr>
<td class="address-1"><span id="37040"></span>37040</td>
<td class="instruction">CALL 8252</td>
<td class="comment-1" rowspan="1">Call <a href="https://skoolkit.ca/disassemblies/rom/hex/asm/1FFC.html#203C">PR_STRING</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37043"></span>37043</td>
<td class="instruction">CALL <a href="37000.html#37609">37609</a></td>
<td class="comment-1" rowspan="1">Call <a href="37000.html#37609">37609</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="37046"></span>37046</td>
<td class="instruction">LD A,(23464)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37049"></span>37049</td>
<td class="instruction">CP 2</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37051"></span>37051</td>
<td class="instruction">JP Z,<a href="37000.html#37625">37625</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="37054"></span>37054</td>
<td class="instruction">LD A,127</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37056"></span>37056</td>
<td class="instruction">IN A,(254)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37058"></span>37058</td>
<td class="instruction">AND 1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37060"></span>37060</td>
<td class="instruction">RET Z</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37061"></span>37061</td>
<td class="instruction">LD A,239</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37063"></span>37063</td>
<td class="instruction">IN A,(254)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37065"></span>37065</td>
<td class="instruction">AND 1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37067"></span>37067</td>
<td class="instruction">RET Z</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37068"></span>37068</td>
<td class="instruction">IN A,(31)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37070"></span>37070</td>
<td class="instruction">AND 16</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37072"></span>37072</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37073"></span>37073</td>
<td class="instruction">JP <a href="37000.html#37054">37054</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37076"></span>37076</td>
<td class="instruction">DEFB 17,0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37078"></span>37078</td>
<td class="instruction">DEFB 22,0,0</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37081"></span>37081</td>
<td class="instruction">DEFB 16,6</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37083"></span>37083</td>
<td class="instruction">DEFB 84,72,69,32,69,80,73,84</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37091"></span>37091</td>
<td class="instruction">DEFB 65,80,72,32,73,78,83,67</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37099"></span>37099</td>
<td class="instruction">DEFB 82,73,66,69,68,32,79,78</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37107"></span>37107</td>
<td class="instruction">DEFB 32,80,79,79,82,22,1,19</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37115"></span>37115</td>
<td class="instruction">DEFB 74,65,83,79,78,39,83,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37123"></span>37123</td>
<td class="instruction">DEFB 84,79,77,66,44,16,5,68</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37131"></span>37131</td>
<td class="instruction">DEFB 79,69,83,32,78,79,84,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37139"></span>37139</td>
<td class="instruction">DEFB 83,80,69,65,75,32,79,70</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37147"></span>37147</td>
<td class="instruction">DEFB 32,72,73,83,32,69,86,69</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37155"></span>37155</td>
<td class="instruction">DEFB 78,84,70,85,76,22,3,26</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37163"></span>37163</td>
<td class="instruction">DEFB 32,76,73,70,69,44,22,4</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37171"></span>37171</td>
<td class="instruction">DEFB 1,16,6,66,85,84,32,79</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37179"></span>37179</td>
<td class="instruction">DEFB 70,32,72,73,83,32,67,65</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37187"></span>37187</td>
<td class="instruction">DEFB 82,69,76,69,83,83,32,68</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37195"></span>37195</td>
<td class="instruction">DEFB 79,79,77,46,46,46,22,7</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37203"></span>37203</td>
<td class="instruction">DEFB 0,16,5,39,79,78,32,69</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37211"></span>37211</td>
<td class="instruction">DEFB 77,66,65,82,75,73,78,71</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37219"></span>37219</td>
<td class="instruction">DEFB 32,79,78,32,72,73,83,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37227"></span>37227</td>
<td class="instruction">DEFB 77,73,83,83,73,79,78,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37235"></span>37235</td>
<td class="instruction">DEFB 72,69,22,8,9,87,65,83</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37243"></span>37243</td>
<td class="instruction">DEFB 32,71,73,86,69,78,32,67</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37251"></span>37251</td>
<td class="instruction">DEFB 72,65,78,67,69,83,32,70</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37259"></span>37259</td>
<td class="instruction">DEFB 79,85,82,44,22,9,0,16</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37267"></span>37267</td>
<td class="instruction">DEFB 6,66,85,84,32,84,72,69</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37275"></span>37275</td>
<td class="instruction">DEFB 32,71,69,77,32,87,65,83</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37283"></span>37283</td>
<td class="instruction">DEFB 32,85,78,68,73,83,84,85</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37291"></span>37291</td>
<td class="instruction">DEFB 82,66,69,68,22,10,1,40</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37299"></span>37299</td>
<td class="instruction">DEFB 70,79,82,32,72,69,32,78</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37307"></span>37307</td>
<td class="instruction">DEFB 69,69,68,69,68,32,83,79</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37315"></span>37315</td>
<td class="instruction">DEFB 77,69,87,72,65,84,32,77</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37323"></span>37323</td>
<td class="instruction">DEFB 79,82,69,33,41,39,22,12</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37331"></span>37331</td>
<td class="instruction">DEFB 0,16,5,72,79,87,32,83</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37339"></span>37339</td>
<td class="instruction">DEFB 65,68,32,65,32,84,65,76</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37347"></span>37347</td>
<td class="instruction">DEFB 69,32,79,70,32,70,65,73</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37355"></span>37355</td>
<td class="instruction">DEFB 76,85,82,69,32,70,79,82</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37363"></span>37363</td>
<td class="instruction">DEFB 32,22,13,10,79,78,69,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37371"></span>37371</td>
<td class="instruction">DEFB 83,79,32,67,76,79,83,69</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37379"></span>37379</td>
<td class="instruction">DEFB 32,84,79,32,71,76,79,82</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37387"></span>37387</td>
<td class="instruction">DEFB 89,33,22,14,1,16,6,66</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37395"></span>37395</td>
<td class="instruction">DEFB 85,84,32,89,79,85,32,67</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37403"></span>37403</td>
<td class="instruction">DEFB 79,85,76,68,32,89,69,84</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37411"></span>37411</td>
<td class="instruction">DEFB 32,82,69,87,82,73,84,69</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37419"></span>37419</td>
<td class="instruction">DEFB 32,84,72,69,22,15,7,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37427"></span>37427</td>
<td class="instruction">DEFB 72,73,83,84,79,82,89,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37435"></span>37435</td>
<td class="instruction">DEFB 79,70,32,84,72,73,83,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37443"></span>37443</td>
<td class="instruction">DEFB 83,84,79,82,89,46,46,46</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37451"></span>37451</td>
<td class="instruction">DEFB 22,17,0,16,5,83,79,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37459"></span>37459</td>
<td class="instruction">DEFB 80,82,69,83,83,32,84,72</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37467"></span>37467</td>
<td class="instruction">DEFB 69,32,19,1,16,6,17,2</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37475"></span>37475</td>
<td class="instruction">DEFB 18,1,83,80,65,67,69,19</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37483"></span>37483</td>
<td class="instruction">DEFB 0,16,5,17,0,18,0,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37491"></span>37491</td>
<td class="instruction">DEFB 75,69,89,32,70,79,82,22</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37499"></span>37499</td>
<td class="instruction">DEFB 18,9,74,65,83,79,78,39</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37507"></span>37507</td>
<td class="instruction">DEFB 83,32,82,69,73,78,67,65</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37515"></span>37515</td>
<td class="instruction">DEFB 82,78,65,84,73,79,78,44</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37523"></span>37523</td>
<td class="instruction">DEFB 22,19,0,16,6,65,78,68</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37531"></span>37531</td>
<td class="instruction">DEFB 32,84,72,69,78,32,89,79</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37539"></span>37539</td>
<td class="instruction">DEFB 85,32,77,65,89,32,66,69</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37547"></span>37547</td>
<td class="instruction">DEFB 71,73,78,32,65,32,66,82</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37555"></span>37555</td>
<td class="instruction">DEFB 65,78,68,22,20,7,78,69</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37563"></span>37563</td>
<td class="instruction">DEFB 87,32,77,73,83,83,73,79</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37571"></span>37571</td>
<td class="instruction">DEFB 78,32,69,77,66,65,82,75</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37579"></span>37579</td>
<td class="instruction">DEFB 65,84,73,79,78,46,19,1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37587"></span>37587</td>
<td class="instruction">DEFB 16,6,17,2,18,1,22,17</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37595"></span>37595</td>
<td class="instruction">DEFB 13,70,73,82,69,19,0,16</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37603"></span>37603</td>
<td class="instruction">DEFB 5,17,0,18,0,32</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="37609"></span>37609</td>
<td class="instruction">LD A,(23464)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37612"></span>37612</td>
<td class="instruction">CP 1</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37614"></span>37614</td>
<td class="instruction">RET Z</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37615"></span>37615</td>
<td class="instruction">LD DE,37585</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37618"></span>37618</td>
<td class="instruction">LD BC,24</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37621"></span>37621</td>
<td class="instruction">CALL 8252</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37624"></span>37624</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="37625"></span>37625</td>
<td class="instruction">IN A,(31)</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37627"></span>37627</td>
<td class="instruction">AND 16</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37629"></span>37629</td>
<td class="instruction">RET NZ</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="37630"></span>37630</td>
<td class="instruction">JP <a href="37000.html#37625">37625</a></td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="36960.html">36960</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37000">Map</a></td>
<td class="next">
Next: <a href="37633.html">37633</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; Mastertronic Ltd 1985 &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
<div><a href="../../asm/9088.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>